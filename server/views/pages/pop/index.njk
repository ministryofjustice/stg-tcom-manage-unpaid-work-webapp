{%- from "moj/components/alert/macro.njk" import mojAlert -%}

{% extends "../../layouts/layout.njk" %}

{% set pageTitle = applicationName + " - Home" %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}

<h1 class="govuk-heading-l">Welcome, Carolina</h1>
<p class="govuk-body">View and manage your community payback</p>

{% if scenario == "missed" %}
{{ mojAlert({
  variant: "error",
  title: "Missed appointment",
  showTitleAsHeading: true,
  dismissible: false,
  html: 'You failed to attend your scheduled probation appointment on 10 March 2025. You have 48 hours to <a href="/pop/messages/thread/5cdc4302-3ad3-4378-b3e3-6ae0731ab4a1">respond to this notice</a> and explain why you missed this. If you fail to do that, this might count as a breach of your conditions.'
}) }}
{% endif %}

{% if scenario == "reminder" %}
{{ mojAlert({
  variant: "information",
  title: "Appointment reminder",
  showTitleAsHeading: true,
  dismissible: false,
  html: 'You have an appointment booked for 15 March 2025 at 9am. <a href="/pop/view-appointment">View your appointment</a> if you need to reschedule it.'
}) }}
{% endif %}

{% if scenario == "pending" %}
{{ mojAlert({
  variant: "warning",
  title: "Account pending verififcation",
  showTitleAsHeading: true,
  dismissible: false,
  html: 'Your account has been created and is will be verified at your next face to face appointment with your probation practitioner.'
}) }}
{% endif %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <div class="gem-c-cards">
      <ul class="gem-c-cards__list gem-c-cards__list--one-column govuk-!-margin-0 govuk-!-padding-0">
        <li class="gem-c-cards__list-item">
          <div class="gem-c-cards__list-item-wrapper">
            <h3 class="gem-c-cards__sub-heading govuk-heading-s">
              {% if scenario == "pending" %}
              <p>Your details</p>
              {% else %}
              <a class="govuk-link govuk-link--no-underline gem-c-cards__link" href="/pop/your-details">Your details</a>
              {% endif %}
            </h3>
          </div>
        </li>
        <li class="gem-c-cards__list-item">
          <div class="gem-c-cards__list-item-wrapper">
            <h3 class="gem-c-cards__sub-heading govuk-heading-s">
              {% if scenario == "pending" %}
              <p>Your progress</p>
              {% else %}
              <a class="govuk-link govuk-link--no-underline gem-c-cards__link" href="/pop/your-progress">Your progress</a>
              {% endif %}
            </h3>
          </div>
        </li>
        <li class="gem-c-cards__list-item">
          <div class="gem-c-cards__list-item-wrapper">
            <h3 class="gem-c-cards__sub-heading govuk-heading-s">
              {% if scenario == "pending" %}
              <p>Past and upcoming appointments</p>
              {% else %}
              <a class="govuk-link govuk-link--no-underline gem-c-cards__link" href="/pop/appointments">Past and upcoming appointments</a>
              {% endif %}
            </h3>
          </div>
        </li>
         <li class="gem-c-cards__list-item">
          <div class="gem-c-cards__list-item-wrapper">
            <h3 class="gem-c-cards__sub-heading govuk-heading-s">
              {% if scenario == "pending" %}
              <p>Messages</p>
              {% else %}
              <a class="govuk-link govuk-link--no-underline gem-c-cards__link" href="/pop/messages">Messages</a>
              {% endif %}
            </h3>
          </div>
        </li>
        <li class="gem-c-cards__list-item">
          <div class="gem-c-cards__list-item-wrapper">
            <h3 class="gem-c-cards__sub-heading govuk-heading-s">
              {% if scenario == "pending" %}
                <p>Your conditions</p>
              {% else %}
                <a class="govuk-link govuk-link--no-underline gem-c-cards__link" href="pop/conditions">Your conditions</a>
              {% endif %}
            </h3>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

{% endblock %}
